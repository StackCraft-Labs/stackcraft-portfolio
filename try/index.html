<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Separated top → Centered pill on scroll</title>
<style>
  :root{
    /* tune these to change feel */
    --threshold: 26px;            /* scroll to switch state */
    --pill-h: 72px;              /* pill height when active */
    --pill-pad: 56px;            /* pill horizontal padding */
    --pill-pad-narrow: 28px;     /* pill padding when squeezed further (unused here but ready) */
    --logo-h-top: 40px;          /* top-left logo size */
    --logo-h-pill: 44px;         /* logo size inside pill */
    --transition: 260ms cubic-bezier(.2,.9,.2,1);
    --bg: #f6f5f7;
  }

  *{ box-sizing: border-box; }
  body{
    margin:0;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: var(--bg);
    min-height:200vh;
    color:#111;
  }

  /* STICKY HEADER full width */
  header.site-header{
    position: sticky;
    top: 0;
    z-index: 9999;
    pointer-events: none;
    padding: 18px 20px;
    background: transparent;
  }

  .header-inner{
    max-width:1200px;
    margin: 0 auto;
    display:flex;
    align-items:center;
    gap:16px;
    position:relative;
    height: calc(var(--pill-h));
  }

  /* TOP (separated) elements visible at page-top */
  .top-left, .top-right {
    pointer-events: auto;
    display:flex;
    align-items:center;
    transition: opacity var(--transition), transform var(--transition);
  }
  .top-left { justify-content:flex-start; }
  .top-right { margin-left:auto; justify-content:flex-end; gap:28px; }

  /* small top-left logo */
  .logo-top {
    height: var(--logo-h-top);
    transition: height var(--transition), transform var(--transition);
  }

  .top-right a{
    color:#111;
    text-decoration:none;
    font-weight:600;
    opacity: .98;
    padding:6px 8px;
  }

  /* CENTERED PILL (hidden initially) */
  .pill {
    position:absolute;
    left:50%;
    transform: translateX(-50%) scale(.98);
    top: 50%;
    translate: -50% 0;
    pointer-events: none; /* enabled when active */
    opacity: 0;
    transition: opacity var(--transition), transform var(--transition), backdrop-filter var(--transition);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:50;
  }

  .pill-inner{
    display:flex;
    align-items:center;
    gap:28px;
    background: rgba(20,20,22,0.98);
    padding: 10px 24px;
    border-radius: 14px;
    box-shadow: 0 12px 36px rgba(12,12,14,0.12);
  }

  .logo-pill{
    height: var(--logo-h-pill);
    transition: height var(--transition), transform var(--transition);
    display:block;
  }
  .pill-inner a{
    color:#fff;
    font-weight:600;
    text-decoration:none;
    padding:6px 8px;
  }

  /* Active (scrolled) state: show pill, hide top-left/top-right */
  header.site-header.squeezed .top-left,
  header.site-header.squeezed .top-right {
    opacity: 0;
    transform: translateY(-6px);
    pointer-events: none;
  }

  header.site-header.squeezed .pill{
    opacity: 1;
    transform: translateX(-50%) scale(1);
    pointer-events: auto;
  }

  /* optional tighter pill on deeper scroll (example) */
  header.site-header.squeezed.deeper .pill-inner{
    padding-inline: var(--pill-pad-narrow);
    gap: 18px;
  }

  /* demo hero + content */
  main { max-width:1200px; margin: 0 auto; padding: 36px 20px; }
  .hero{
    margin-top:22px;
    background:#151515;
    color:#fff;
    border-radius:28px;
    padding:80px 48px;
    margin-bottom: 120px;
    box-shadow: 0 30px 80px rgba(10,10,10,0.18);
  }
  .hero h1{ font-size:56px; margin:0 0 18px;}
  .hero p{ font-size:18px; opacity:.9; max-width:80ch; }

  /* responsive */
  @media (max-width:900px){
    .top-right { gap:18px; }
    .pill-inner{ gap: 14px; padding: 8px 14px; }
    :root{ --pill-pad: 36px; --logo-h-top:36px; --logo-h-pill:38px; }
  }
  @media (max-width:560px){
    .hero h1{ font-size:34px; }
    .top-right { display:none; } /* hide top links on tiny screens for demo */
  }
</style>
</head>
<body>

<header class="site-header" id="siteHeader">
  <div class="header-inner">
    <!-- separated top-left logo -->
    <div class="top-left" id="topLeft">
      <img class="logo-top" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='44' height='44' viewBox='0 0 24 24'><rect rx='6' width='24' height='24' fill='%23000'/><text x='50%' y='55%' text-anchor='middle' font-size='12' fill='%23fff' font-family='Arial'>N</text></svg>" alt="Logo">
    </div>

    <!-- centered pill (hidden initially) -->
    <div class="pill" id="pill">
      <div class="pill-inner" role="navigation" aria-label="Main nav - pill">
        <img class="logo-pill" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='44' height='44' viewBox='0 0 24 24'><rect rx='6' width='24' height='24' fill='%23fff'/><text x='50%' y='55%' text-anchor='middle' font-size='12' fill='%23000' font-family='Arial'>N</text></svg>" alt="Logo">
        <a href="#home">Home</a>
        <a href="#portfolio">Portfolio</a>
        <a href="#about">About</a>
        <a href="#article">Article</a>
        <a href="#contact">Contact</a>
      </div>
    </div>

    <!-- separated top-right nav -->
    <div class="top-right" id="topRight">
      <a href="#home">Home</a>
      <a href="#portfolio">Portfolio</a>
      <a href="#about">About</a>
      <a href="#article">Article</a>
      <a href="#contact">Contact</a>
    </div>
  </div>
</header>

<main>
  <section class="hero" id="home">
    <h1>Software for Ambitious Businesses</h1>
    <p>We engineer, design, and scale powerful software solutions that help startups, SaaS, and enterprises grow faster.</p>
  </section>

  <section style="height:1200px; background:linear-gradient(180deg,#fff,#f3f3f4); border-radius:14px; padding:24px;">
    <h2>Scroll down — the top layout will switch into a centered pill</h2>
    <p>Scroll up to return to the separated top layout.</p>
  </section>
</main>

<script>
(() => {
  const header = document.getElementById('siteHeader');
  const THRESH = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--threshold')) || 26;
  let lastY = window.scrollY || 0;
  let ticking = false;

  function onFrame(){
    const y = window.scrollY || 0;
    // toggle squeezed when scrolling below threshold
    const squeezed = y > THRESH;
    header.classList.toggle('squeezed', squeezed);

    // optional: add a 'deeper' class when user scrolls much further (to tighten pill)
    header.classList.toggle('deeper', y > THRESH * 3);

    lastY = y;
    ticking = false;
  }

  window.addEventListener('scroll', () => {
    if (!ticking){
      window.requestAnimationFrame(onFrame);
      ticking = true;
    }
  }, { passive: true });

  // init
  onFrame();
})();
</script>
</body>
</html>
